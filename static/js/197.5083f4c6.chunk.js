"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[197],{5647:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(9611),i=n(8814);function s(e,t,n){return s=(0,i.Z)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&(0,r.Z)(s,n.prototype),s},s.apply(null,arguments)}},2197:function(e,t,n){n.r(t),n.d(t,{FileHandle:function(){return g},FolderHandle:function(){return H},Sink:function(){return z},default:function(){return S}});var r=n(5861),i=n(5647),s=n(2982),a=n(5671),u=n(3144),o=n(608),c=n(6420),f=n(6296);function h(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}var l=n(7757),p=n(465),d=n(2047),w=d.Z.File,v=d.Z.Blob,Z=d.Z.DOMException,k=p.errors.INVALID,y=p.errors.GONE,b=p.errors.MISMATCH,x=p.errors.MOD_ERR,m=p.errors.SYNTAX,_=(p.errors.SECURITY,p.errors.DISALLOWED),z=function(){function e(t,n){(0,a.Z)(this,e),this.fileHandle=t,this.file=n,this.size=n.size,this.position=0}return(0,u.Z)(e,[{key:"write",value:function(e){var t=this.file;if("object"===typeof e)if("write"===e.type){if(Number.isInteger(e.position)&&e.position>=0&&(this.position=e.position,this.size<e.position&&(this.file=new w([this.file,new ArrayBuffer(e.position-this.size)],this.file.name,this.file))),!("data"in e))throw(0,i.Z)(Z,(0,s.Z)(m("write requires a data argument")));e=e.data}else{if("seek"===e.type){if(Number.isInteger(e.position)&&e.position>=0){if(this.size<e.position)throw(0,i.Z)(Z,(0,s.Z)(k));return void(this.position=e.position)}throw(0,i.Z)(Z,(0,s.Z)(m("seek requires a position argument")))}if("truncate"===e.type){if(Number.isInteger(e.size)&&e.size>=0)return t=e.size<this.size?new w([t.slice(0,e.size)],t.name,t):new w([t,new Uint8Array(e.size-this.size)],t.name),this.size=t.size,this.position>t.size&&(this.position=t.size),void(this.file=t);throw(0,i.Z)(Z,(0,s.Z)(m("truncate requires a size argument")))}}e=new v([e]);var n=this.file,r=n.slice(0,this.position),a=n.slice(this.position+e.size),u=this.position-r.size;u<0&&(u=0),n=new w([r,new Uint8Array(u),e,a],n.name),this.size=n.size,this.position+=e.size,this.file=n}},{key:"close",value:function(){if(this.fileHandle._deleted)throw(0,i.Z)(Z,(0,s.Z)(y));this.fileHandle._file=this.file,this.file=this.position=this.size=null,this.fileHandle.onclose&&this.fileHandle.onclose(this.fileHandle)}}]),e}(),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new w([],t),r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,a.Z)(this,e),this._file=n,this.name=t,this.kind="file",this._deleted=!1,this.writable=r,this.readable=!0}return(0,u.Z)(e,[{key:"getFile",value:function(){var e=(0,r.Z)(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 2:return e.abrupt("return",this._file);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createWritable",value:function(){var e=(0,r.Z)(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.writable){e.next=2;break}throw(0,i.Z)(Z,(0,s.Z)(_));case 2:if(!this._deleted){e.next=4;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 4:if(!t.keepExistingData){e.next=10;break}return e.next=7,this.getFile();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=new w([],this.name);case 11:return n=e.t0,e.abrupt("return",new z(this,n));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSameEntry",value:function(){var e=(0,r.Z)(l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this===t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){var e=(0,r.Z)(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0,this._file=null;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,a.Z)(this,e),this.name=t,this.kind="directory",this._deleted=!1,this._entries={},this.writable=n,this.readable=!0}return(0,u.Z)(e,[{key:"entries",value:function(){var e=this;return(0,o.Z)(l.mark((function t(){return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 2:return t.delegateYield(h((0,f.Z)(Object.entries(e._entries)),c.Z),"t0",3);case 3:case"end":return t.stop()}}),t)})))()}},{key:"isSameEntry",value:function(){var e=(0,r.Z)(l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this===t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDirectoryHandle",value:function(){var t=(0,r.Z)(l.mark((function t(n,r){var a;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._deleted){t.next=2;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 2:if(!(a=this._entries[n])){t.next=11;break}if(!(a instanceof g)){t.next=8;break}throw(0,i.Z)(Z,(0,s.Z)(b));case 8:return t.abrupt("return",a);case 9:t.next=16;break;case 11:if(!r.create){t.next=15;break}return t.abrupt("return",this._entries[n]=new e(n));case 15:throw(0,i.Z)(Z,(0,s.Z)(y));case 16:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getFileHandle",value:function(){var e=(0,r.Z)(l.mark((function e(t,n){var r,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._entries[t],a=r instanceof g,!r||!a){e.next=4;break}return e.abrupt("return",r);case 4:if(!r||a){e.next=6;break}throw(0,i.Z)(Z,(0,s.Z)(b));case 6:if(r||n.create){e.next=8;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 8:if(r||!n.create){e.next=10;break}return e.abrupt("return",this._entries[t]=new g(t));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeEntry",value:function(){var e=(0,r.Z)(l.mark((function e(t,n){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._entries[t]){e.next=3;break}throw(0,i.Z)(Z,(0,s.Z)(y));case 3:return e.next=5,r._destroy(n.recursive);case 5:delete this._entries[t];case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){var e=(0,r.Z)(l.mark((function e(t){var n,r,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.values(this._entries);case 1:if(!(n<r.length)){e.next=10;break}if(a=r[n],t){e.next=5;break}throw(0,i.Z)(Z,(0,s.Z)(x));case 5:return e.next=7,a._destroy(t);case 7:n++,e.next=1;break;case 10:this._entries={},this._deleted=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=new H(""),S=function(){return E}}}]);
//# sourceMappingURL=197.5083f4c6.chunk.js.map