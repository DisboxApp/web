"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[631,465],{5647:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(9611),i=n(8814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},8631:function(e,t,n){n.r(t),n.d(t,{FileHandle:function(){return w}});var r=n(1413),i=n(5647),a=n(2982),o=n(5861),s=n(5671),u=n(3144),c=n(7757),l=n(465),p=n(2047),d=p.Z.WritableStream,f=p.Z.TransformStream,h=p.Z.DOMException,y=p.Z.Blob,m=l.errors.GONE,v=/constructor/i.test(window.HTMLElement)||window.safari||window.WebKitPoint,w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unkown";(0,s.Z)(this,e),this.name=t,this.kind="file"}return(0,u.Z)(e,[{key:"getFile",value:function(){var e=(0,o.Z)(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw(0,i.Z)(h,(0,a.Z)(m));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isSameEntry",value:function(){var e=(0,o.Z)(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this===t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createWritable",value:function(){var e=(0,o.Z)(c.mark((function e(){var t,n,i,a,o,s,u,l,p,h,m,w,b,g,k=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,null===(t=navigator.serviceWorker)||void 0===t?void 0:t.getRegistration();case 3:return i=e.sent,a=document.createElement("a"),o=new f,s=o.writable,a.download=this.name,v||!i?(u=[],o.readable.pipeTo(new d({write:function(e){u.push(new y([e]))},close:function(){var e=new y(u,{type:"application/octet-stream; charset=utf-8"});u=[],a.href=URL.createObjectURL(e),a.click(),setTimeout((function(){return URL.revokeObjectURL(a.href)}),1e4)}}))):(l=new _(d),p=l.writable,h=l.readablePort,m=encodeURIComponent(this.name).replace(/['()]/g,escape).replace(/\*/g,"%2A"),w=(0,r.Z)({"content-disposition":"attachment; filename*=UTF-8''"+m,"content-type":"application/octet-stream; charset=utf-8"},n.size?{"content-length":n.size}:{}),b=setTimeout((function(){return i.active.postMessage(0)}),1e4),o.readable.pipeThrough(new f({transform:function(e,t){if(e instanceof Uint8Array)return t.enqueue(e);var n=new Response(e).body.getReader();return function e(r){return n.read().then((function(n){return n.done?0:e(t.enqueue(n.value))}))}()}})).pipeTo(p).finally((function(){clearInterval(b)})),i.active.postMessage({url:i.scope+m,headers:w,readablePort:h},[h]),(g=document.createElement("iframe")).hidden=!0,g.src=i.scope+m,document.body.appendChild(g)),e.abrupt("return",s.getWriter());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),b=function(){function e(t){var n=this;(0,s.Z)(this,e),t.onmessage=function(e){return n._onMessage(e.data)},this._port=t,this._resetReady()}return(0,u.Z)(e,[{key:"start",value:function(e){return this._controller=e,this._readyPromise}},{key:"write",value:function(e){var t={type:0,chunk:e};return this._port.postMessage(t,[e.buffer]),this._resetReady(),this._readyPromise}},{key:"close",value:function(){this._port.postMessage({type:2}),this._port.close()}},{key:"abort",value:function(e){this._port.postMessage({type:1,reason:e}),this._port.close()}},{key:"_onMessage",value:function(e){0===e.type&&this._resolveReady(),1===e.type&&this._onError(e.reason)}},{key:"_onError",value:function(e){this._controller.error(e),this._rejectReady(e),this._port.close()}},{key:"_resetReady",value:function(){var e=this;this._readyPromise=new Promise((function(t,n){e._readyResolve=t,e._readyReject=n})),this._readyPending=!0}},{key:"_resolveReady",value:function(){this._readyResolve(),this._readyPending=!1}},{key:"_rejectReady",value:function(e){this._readyPending||this._resetReady(),this._readyPromise.catch((function(){})),this._readyReject(e),this._readyPending=!1}}]),e}(),_=(0,u.Z)((function e(t){(0,s.Z)(this,e);var n=new MessageChannel;this.readablePort=n.port1,this.writable=new t(new b(n.port2))}))},465:function(e,t,n){n.r(t),n.d(t,{errors:function(){return o},config:function(){return s},fromDataTransfer:function(){return u},getDirHandlesFromInput:function(){return l},getFileHandlesFromInput:function(){return d}});var r=n(885),i=n(5861),a=n(7757),o={INVALID:["seeking position failed.","InvalidStateError"],GONE:["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],MISMATCH:["The path supplied exists, but was not an entry of requested type.","TypeMismatchError"],MOD_ERR:["The object can not be modified in this way.","InvalidModificationError"],SYNTAX:function(e){return["Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ".concat(e),"SyntaxError"]},SECURITY:["It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.","SecurityError"],DISALLOWED:["The request is not allowed by the user agent or the platform in the current context.","NotAllowedError"]},s={writable:globalThis.WritableStream};function u(e){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(a.mark((function e(t){var i,o,s,u,c,l;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("deprecated fromDataTransfer - use `dt.items[0].getAsFileSystemHandle()` instead"),e.next=3,Promise.all([n.e(197).then(n.bind(n,2197)),n.e(747).then(n.bind(n,7747)),Promise.resolve().then(n.bind(n,8593))]);case 3:return i=e.sent,o=(0,r.Z)(i,3),s=o[0],u=o[1],c=o[2],(l=new s.FolderHandle("",!1))._entries=t.map((function(e){return e.isFile?new u.FileHandle(e,!1):new u.FolderHandle(e,!1)})),e.abrupt("return",new c.FileSystemDirectoryHandle(l));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a.mark((function e(t){var r,i,o,s,u,c,l,p;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(197).then(n.bind(n,2197));case 2:return r=e.sent,i=r.FolderHandle,o=r.FileHandle,e.next=7,Promise.resolve().then(n.bind(n,8593));case 7:return s=e.sent,u=s.FileSystemDirectoryHandle,c=Array.from(t.files),l=c[0].webkitRelativePath.split("/",1)[0],p=new i(l,!1),c.forEach((function(e){var t=e.webkitRelativePath.split("/");t.shift();var n=t.pop();t.reduce((function(e,t){return e._entries[t]||(e._entries[t]=new i(t,!1)),e._entries[t]}),p)._entries[n]=new o(e.name,e,!1)})),e.abrupt("return",new u(p));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a.mark((function e(t){var r,i,o,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(197).then(n.bind(n,2197));case 2:return r=e.sent,i=r.FileHandle,e.next=6,Promise.resolve().then(n.bind(n,2292));case 6:return o=e.sent,s=o.FileSystemFileHandle,e.abrupt("return",Array.from(t.files).map((function(e){return new s(new i(e.name,e,!1))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=631.e0b9cfbd.chunk.js.map